[gd_scene load_steps=10 format=3 uid="uid://dnmynnpbigm2p"]

[ext_resource type="PackedScene" uid="uid://oi3ugssh6kxs" path="res://scenes/overworld/templates/room_template.tscn" id="1_xocug"]
[ext_resource type="Texture2D" uid="uid://m6n5g13uniq5" path="res://assets/overworld/icon.svg" id="3_waqub"]
[ext_resource type="PackedScene" uid="uid://c3aj4q7x1mqan" path="res://scenes/overworld/transport/door.tscn" id="4_onw6f"]
[ext_resource type="Script" path="res://scenes/interaction_system/dialog_component.gd" id="6_5xur2"]
[ext_resource type="Resource" uid="uid://b2v7reuxvw5v1" path="res://scenes/dialog_system/data/TestDialog.tres" id="6_fw342"]
[ext_resource type="Script" path="res://scenes/interaction_system/combat_component.gd" id="6_hs42k"]
[ext_resource type="Script" path="res://scenes/overworld/components/overworld_combat_area.gd" id="7_j4xr4"]
[ext_resource type="Resource" uid="uid://bh6taflv8p41w" path="res://scenes/combat/enemies/enemy1.tres" id="8_ciu2r"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_75wn5"]
size = Vector2(130.435, 130.435)

[node name="Room1" instance=ExtResource("1_xocug")]

[node name="TileMap" parent="." index="0"]
layer_0/tile_data = PackedInt32Array(65537, 196608, 3, 65536, 196608, 3, 131071, 196608, 3, 131070, 196608, 3, 131069, 196608, 3, 131068, 196608, 3, 131067, 196608, 3, 131066, 196608, 3, 131065, 131072, 3, 65538, 196608, 3, 65539, 196608, 3, 65540, 196608, 3, 65541, 262144, 3, 5, 262144, 2, -65531, 262144, 2, -131067, 327680, 2, -196603, 327680, 3, -327675, 262144, 1, -327676, 196608, 1, -327677, 196608, 1, -327678, 196608, 1, -327679, 327680, 3, -327680, 393216, 3, -262145, 196608, 1, -262146, 196608, 1, -262147, 196608, 1, -262148, 196608, 1, -262149, 196608, 1, -262150, 196608, 1, -262151, 131072, 1, -196615, 131072, 2, -131079, 131072, 2, -65543, 131072, 2, -7, 131072, 2, 65529, 131072, 2, 65530, 196608, 2, -6, 196608, 2, -65542, 196608, 2, -131078, 196608, 2, -196614, 196608, 2, -196613, 196608, 2, -131077, 196608, 2, -65541, 196608, 2, -5, 196608, 2, 65531, 196608, 2, 65532, 196608, 2, -4, 196608, 2, -65540, 196608, 2, -131076, 196608, 2, -196612, 196608, 2, -131075, 196608, 2, -65539, 196608, 2, -3, 196608, 2, 65533, 196608, 2, 65534, 196608, 2, -2, 196608, 2, -65538, 196608, 2, -196611, 196608, 2, -196609, 196608, 2, -131073, 196608, 2, -65537, 196608, 2, 65535, 196608, 2, 0, 196608, 2, -65536, 196608, 2, -131074, 196608, 2, -196610, 196608, 2, -196608, 196608, 2, -131072, 196608, 2, -1, 196608, 2, 1, 196608, 2, -65535, 196608, 2, -65534, 196608, 2, -131071, 196608, 2, -196607, 196608, 2, -262144, 196608, 2, -262143, 196608, 2, -262142, 196608, 2, -196606, 196608, 2, -131070, 196608, 2, 2, 196608, 2, 3, 196608, 2, -65533, 196608, 2, -131069, 196608, 2, -196605, 196608, 2, -262141, 196608, 2, -262140, 196608, 2, -196604, 196608, 2, -131068, 196608, 2, -65532, 196608, 2, 4, 196608, 2, -131066, 196608, 3, -131065, 196608, 3, -131064, 196608, 3, -131063, 196608, 3, -131062, 196608, 3, -196598, 393216, 3, -196599, 196608, 1, -196600, 196608, 1, -196602, 196608, 1, -262134, 131072, 2, -327670, 131072, 2, -393206, 131072, 2, -458741, 262144, 2, -393205, 262144, 2, -327669, 262144, 2, -262133, 262144, 2, -196597, 262144, 2, -131061, 262144, 3, -458742, 131072, 2, -524278, 131072, 2, -589814, 131072, 2, -589813, 262144, 2, -655349, 327680, 2, -524277, 262144, 2, -655350, 393216, 2, -655351, 196608, 3, -655352, 196608, 3, -655353, 196608, 3, -655354, 196608, 3, -655355, 131072, 3, -720891, 131072, 2, -720890, 196608, 2, -786426, 196608, 2, -851962, 196608, 2, -917498, 196608, 2, -983034, 196608, 2, -917499, 131072, 2, -851963, 131072, 2, -786427, 131072, 2, -983035, 131072, 2, -1048571, 131072, 1, -1048570, 196608, 1, -1048569, 196608, 1, -983033, 196608, 2, -983032, 196608, 2, -983031, 196608, 2, -983030, 196608, 2, -983029, 196608, 2, -983028, 196608, 2, -1048565, 196608, 1, -1048566, 196608, 1, -1048567, 196608, 1, -1048568, 196608, 1, -1048564, 196608, 1, -1048563, 196608, 1, -1048562, 196608, 1, -1048561, 196608, 1, -1048560, 196608, 1, -1048559, 262144, 1, -983023, 262144, 2, -917487, 327680, 3, -917488, 196608, 2, -851951, 327680, 2, -786415, 262144, 2, -720879, 262144, 2, -655343, 262144, 3, -655344, 196608, 3, -655345, 196608, 3, -655346, 196608, 3, -655347, 196608, 3, -655348, 196608, 3, -720888, 196608, 2, -720889, 196608, 2, -720887, 196608, 2, -720886, 196608, 2, -720885, 196608, 2, -720884, 196608, 2, -720883, 196608, 2, -720882, 196608, 2, -720881, 196608, 2, -720880, 196608, 2, -786416, 196608, 2, -786417, 196608, 2, -786418, 196608, 2, -786419, 196608, 2, -786420, 196608, 2, -786421, 196608, 2, -786422, 196608, 2, -786423, 196608, 2, -786424, 196608, 2, -786425, 196608, 2, -851961, 196608, 2, -851960, 196608, 2, -851959, 196608, 2, -851958, 196608, 2, -851957, 196608, 2, -851956, 196608, 2, -851955, 196608, 2, -851954, 196608, 2, -851953, 196608, 2, -851952, 196608, 2, -917489, 196608, 2, -917490, 196608, 2, -917491, 196608, 2, -917492, 196608, 2, -917493, 196608, 2, -917494, 196608, 2, -917495, 196608, 2, -917496, 196608, 2, -917497, 196608, 2, -983027, 196608, 2, -983026, 196608, 2, -983025, 196608, 2, -983024, 196608, 2, -917486, 196608, 1, -851950, 196608, 3, -851949, 196608, 3, -917485, 196608, 1, -917484, 262144, 1, -851948, 262144, 3, -393215, 262144, 2, -458751, 262144, 2, -524287, 262144, 2, -589823, 262144, 2, -655359, 262144, 1, -655360, 131072, 1, -589824, 131072, 2, -524288, 131072, 2, -458752, 131072, 2, -393216, 131072, 2, -262139, 262144, 2, -196601, 196608, 1)

[node name="Door0" parent="Doors" index="0" instance=ExtResource("4_onw6f")]
position = Vector2(32, -288)
target_room = "res://scenes/overworld/rooms/room2.tscn"
target_door = 0

[node name="NPC" type="Sprite2D" parent="." index="3"]
position = Vector2(64, 8)
scale = Vector2(0.23, 0.23)
texture = ExtResource("3_waqub")

[node name="DialogInteraction" type="Area2D" parent="NPC" index="0"]
collision_layer = 2
collision_mask = 2
script = ExtResource("6_5xur2")
dialog = ExtResource("6_fw342")

[node name="CollisionShape2D" type="CollisionShape2D" parent="NPC/DialogInteraction" index="0"]
shape = SubResource("RectangleShape2D_75wn5")

[node name="NPC2" type="Sprite2D" parent="." index="4"]
position = Vector2(-71, 5)
scale = Vector2(0.23, 0.23)
texture = ExtResource("3_waqub")

[node name="CombatInteraction" type="Area2D" parent="NPC2" index="0"]
collision_layer = 2
collision_mask = 2
script = ExtResource("6_hs42k")
fight_path = "res://scenes/combat/enemies/enemy1.tres"

[node name="CollisionShape2D" type="CollisionShape2D" parent="NPC2/CombatInteraction" index="0"]
shape = SubResource("RectangleShape2D_75wn5")

[node name="CombatArea" type="Area2D" parent="." index="6"]
position = Vector2(215, -350)
script = ExtResource("7_j4xr4")
available_fights = Array[Resource("res://scripts/enemy.gd")]([ExtResource("8_ciu2r")])

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="CombatArea" index="0"]
polygon = PackedVector2Array(-32, 42, 114, 43, 73, -131, -38, -146)
